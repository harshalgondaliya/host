import{j as e,b as t}from"./index-CQQ1ghFL.js";import{b as a,L as s}from"./vendor-BTPp6kuS.js";import"./ui-BioLQiJE.js";const l=a.memo((()=>e.jsx("div",{className:"animate-pulse bg-gray-200 w-full h-full rounded"}))),o=a.memo((({direction:t,onClick:a,label:s})=>e.jsx("button",{onClick:a,className:`absolute top-1/2 ${"prev"===t?"left-2 md:left-4":"right-2 md:right-4"} transform -translate-y-1/2 p-3 md:p-4 text-white bg-black/40 rounded-full hover:bg-black/60 transition-all hover:scale-110 active:scale-95 z-20`,"aria-label":s,children:"prev"===t?"❮":"❯"}))),r=a.memo((({active:t,onClick:a,ariaLabel:s})=>e.jsx("div",{onClick:a,className:`w-3 h-3 md:w-4 md:h-4 border-2 cursor-pointer transition-all duration-300 ease-in-out ${t?"border-white bg-black animate-pulse scale-110":"border-gray-500 bg-white hover:scale-110"} rounded-full`,"aria-label":s}))),n=a.memo((()=>{const n=a.useMemo((()=>[{desktop:"/assets/GrapesD-BCqBnZCo.webp",mobile:"/assets/GrapesMo-C0rGSzGx.webp",link:"/grapes",name:"Grapes"},{desktop:"/assets/LycheeD-DQnC5zEy.webp",mobile:"/assets/LycheeMo-CMGVl7UE.webp",link:"/lychee",name:"Lychee"},{desktop:"/assets/MangoD-BenK3Hmt.webp",mobile:"/assets/MangoMo-CwTbc09J.webp",link:"/mango",name:"Mango"},{desktop:"/assets/PineappleD-SdIyjyOB.webp",mobile:"/assets/PineappleMo-CMMM4aV7.webp",link:"/pineapple",name:"Pineapple"},{desktop:"/assets/StrawberryD-DzfjeqdU.webp",mobile:"/assets/StrawberryMo-BnUFgqX2.webp",link:"/strawberry",name:"Strawberry"}]),[]),[i,c]=a.useState(!1),[u,m]=a.useState(0),[d,b]=a.useState(!1),[p,f]=a.useState(0),[h,w]=a.useState(!1),[x,k]=a.useState({}),y=a.useRef(null),g=a.useRef(null),v=a.useRef(null);a.useEffect((()=>{const e=(u+1)%n.length,t=(u+2)%n.length,a=i?n[e].mobile:n[e].desktop,s=i?n[t].mobile:n[t].desktop,l=new Image,o=new Image;return l.src=a,o.src=s,()=>{l.onload=null,o.onload=null}}),[u,n,i]),a.useEffect((()=>{const e=()=>{c(window.innerWidth<768)};return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[]),a.useEffect((()=>(d||(y.current=setTimeout((()=>{j((u+1)%5,!0)}),3e3)),()=>clearTimeout(y.current))),[u,d]);const j=a.useCallback(((e,t=!1)=>{h&&!t||(w(!0),m(e),t||(b(!0),clearTimeout(y.current)),g.current&&clearTimeout(g.current),g.current=setTimeout((()=>{w(!1),t||(y.current=setTimeout((()=>b(!1)),5e3))}),600))}),[h]),C=a.useCallback((e=>{f(e.touches[0].clientX),b(!0),clearTimeout(y.current)}),[]),M=a.useCallback((e=>{if(h)return;const t=e.changedTouches[0].clientX,a=p-t;Math.abs(a)>30?j(a>0?(u+1)%5:(u-1+5)%5):y.current=setTimeout((()=>b(!1)),5e3)}),[j,h,p,u]),L=a.useCallback((()=>{const e=n[u];return i?e.mobile:e.desktop}),[n,u,i]),N=a.useCallback((()=>n[u]),[n,u]),S=a.useCallback((()=>"absolute inset-0 w-full h-full object-contain transition-opacity duration-600 ease-in-out "+(h?"opacity-60":"opacity-100")),[h]),T=a.useMemo((()=>e.jsx("div",{className:"flex justify-center mt-4 space-x-3",children:n.map(((t,a)=>e.jsx(r,{active:u===a,onClick:()=>j(a),ariaLabel:`Go to ${t.name} slide`},a)))})),[n,u,j]);return e.jsxs("div",{className:"relative w-full max-w-[50rem] mx-auto",children:[e.jsxs("div",{ref:v,className:"relative h-[24rem] md:h-[32rem] lg:h-[36rem] overflow-hidden rounded-lg shadow-xl",onTouchStart:C,onTouchEnd:M,children:[e.jsx(t.LazyLoadImage,{src:L(),alt:`${N().name} background`,effect:"blur",className:"absolute inset-0 w-full h-full object-cover blur-xl transition-transform duration-700 ease-in-out scale-105",style:{transform:h?"scale(1.1)":"scale(1.05)"},threshold:200,placeholder:e.jsx(l,{})}),e.jsx("div",{className:"absolute inset-0 bg-black/50 transition-opacity duration-500 ease-in-out"}),e.jsxs(s,{to:N().link,className:"absolute inset-0 flex items-center justify-center z-10",onClick:e=>{h&&e.preventDefault()},children:[e.jsx(t.LazyLoadImage,{src:L(),alt:N().name,effect:"blur",className:S(),style:{transform:`scale(${h?"0.97":"1"})`,transition:"transform 600ms ease-in-out, opacity 600ms ease-in-out"},threshold:100,visibleByDefault:!0}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-black/60 text-white text-center py-3 px-4 font-bold text-xl md:text-2xl transition-all duration-500 ease-in-out "+(h?"opacity-0 translate-y-4":"opacity-100 translate-y-0"),children:N().name})]}),e.jsx(o,{direction:"prev",onClick:()=>j((u-1+5)%5),label:"Previous slide"}),e.jsx(o,{direction:"next",onClick:()=>j((u+1)%5),label:"Next slide"})]}),T]})}));export{n as default};
