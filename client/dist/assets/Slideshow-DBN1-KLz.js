import{j as e}from"./index-BZk6UU2Z.js";import{r as t,L as a,R as s}from"./vendor-D2XPI9vX.js";import{b as l}from"./ui-CmYB5kGU.js";const n=t.memo(s.forwardRef(((t,a)=>e.jsx("div",{ref:a,className:"animate-pulse bg-gray-200 w-full h-full rounded"})))),r=t.memo((({direction:t,onClick:a,label:s})=>e.jsx("button",{onClick:a,className:`absolute top-1/2 ${"prev"===t?"left-2 md:left-4":"right-2 md:right-4"} transform -translate-y-1/2 p-3 md:p-4 text-white bg-black/40 rounded-full hover:bg-black/60 transition-all hover:scale-110 active:scale-95 z-20`,"aria-label":s,children:"prev"===t?"❮":"❯"}))),o=t.memo((({active:t,onClick:a,ariaLabel:s})=>e.jsx("div",{onClick:a,className:`w-3 h-3 md:w-4 md:h-4 border-2 cursor-pointer transition-all duration-300 ease-in-out ${t?"border-white bg-black animate-pulse scale-110":"border-gray-500 bg-white hover:scale-110"} rounded-full`,"aria-label":s}))),i=()=>{const s=t.useMemo((()=>[{desktop:"/assets/webp/GrapesD-BCqBnZCo.webp",mobile:"/assets/webp/GrapesMo-C0rGSzGx.webp",link:"/grapes",name:"Grapes"},{desktop:"/assets/webp/LycheeD-DQnC5zEy.webp",mobile:"/assets/webp/LycheeMo-CMGVl7UE.webp",link:"/lychee",name:"Lychee"},{desktop:"/assets/webp/MangoD-BenK3Hmt.webp",mobile:"/assets/webp/MangoMo-CwTbc09J.webp",link:"/mango",name:"Mango"},{desktop:"/assets/webp/PineappleD-SdIyjyOB.webp",mobile:"/assets/webp/PineappleMo-CMMM4aV7.webp",link:"/pineapple",name:"Pineapple"},{desktop:"/assets/webp/StrawberryD-DzfjeqdU.webp",mobile:"/assets/webp/StrawberryMo-BnUFgqX2.webp",link:"/strawberry",name:"Strawberry"}]),[]),[i,c]=t.useState(!1),[u,m]=t.useState(0),[b,d]=t.useState(!1),[p,h]=t.useState(0),[f,w]=t.useState(!1),[g,x]=t.useState({}),k=t.useRef(null),y=t.useRef(null),v=t.useRef(null);t.useEffect((()=>{const e=(u+1)%s.length,t=(u+2)%s.length,a=i?s[e].mobile:s[e].desktop,l=i?s[t].mobile:s[t].desktop,n=new Image,r=new Image;return n.src=a,r.src=l,()=>{n.onload=null,r.onload=null}}),[u,s,i]),t.useEffect((()=>{const e=()=>{c(window.innerWidth<768)};return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[]),t.useEffect((()=>(b||(k.current=setTimeout((()=>{j((u+1)%s.length,!0)}),3e3)),()=>clearTimeout(k.current))),[u,b,s.length]);const j=t.useCallback(((e,t=!1)=>{f&&!t||(w(!0),m(e),t||(d(!0),clearTimeout(k.current)),y.current&&clearTimeout(y.current),y.current=setTimeout((()=>{w(!1),t||(k.current=setTimeout((()=>d(!1)),5e3))}),600))}),[f]),C=t.useCallback((e=>{h(e.touches[0].clientX),d(!0),clearTimeout(k.current)}),[]),M=t.useCallback((e=>{if(f)return;const t=e.changedTouches[0].clientX,a=p-t;Math.abs(a)>30?j(a>0?(u+1)%s.length:(u-1+s.length)%s.length):k.current=setTimeout((()=>d(!1)),5e3)}),[j,f,p,u,s.length]),L=t.useCallback((()=>{const e=s[u];return i?e.mobile:e.desktop}),[s,u,i]),N=t.useCallback((()=>s[u]),[s,u]),S=t.useCallback((()=>"absolute inset-0 w-full h-full object-contain transition-opacity duration-600 ease-in-out "+(f?"opacity-60":"opacity-100")),[f]),T=t.useMemo((()=>e.jsx("div",{className:"flex justify-center mt-4 space-x-3",children:s.map(((t,a)=>e.jsx(o,{active:u===a,onClick:()=>j(a),ariaLabel:`Go to ${t.name} slide`},a)))})),[s,u,j]);return e.jsxs("div",{className:"relative w-full max-w-[50rem] mx-auto",children:[e.jsxs("div",{ref:v,className:"relative h-[24rem] md:h-[32rem] lg:h-[36rem] overflow-hidden rounded-lg shadow-xl",onTouchStart:C,onTouchEnd:M,children:[e.jsx(l.LazyLoadImage,{src:L(),alt:`${N().name} background`,effect:"blur",className:"absolute inset-0 w-full h-full object-cover blur-xl transition-transform duration-700 ease-in-out scale-105",style:{transform:f?"scale(1.1)":"scale(1.05)"},threshold:200,placeholder:e.jsx(n,{})}),e.jsx("div",{className:"absolute inset-0 bg-black/50 transition-opacity duration-500 ease-in-out"}),e.jsxs(a,{to:N().link,className:"absolute inset-0 flex items-center justify-center z-10",onClick:e=>{f&&e.preventDefault()},children:[e.jsx(l.LazyLoadImage,{src:L(),alt:N().name,effect:"blur",className:S(),style:{transform:`scale(${f?"0.97":"1"})`,transition:"transform 600ms ease-in-out, opacity 600ms ease-in-out"},threshold:100,visibleByDefault:!0}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-black/60 text-white text-center py-3 px-4 font-bold text-xl md:text-2xl transition-all duration-500 ease-in-out "+(f?"opacity-0 translate-y-4":"opacity-100 translate-y-0"),children:N().name})]}),e.jsx(r,{direction:"prev",onClick:()=>j((u-1+s.length)%s.length),label:"Previous slide"}),e.jsx(r,{direction:"next",onClick:()=>j((u+1)%s.length),label:"Next slide"})]}),T]})};export{i as default};
