import{j as e}from"./index-GaJkPruA.js";import{r as t,L as s,R as a}from"./vendor-D2XPI9vX.js";import{b as l}from"./ui-CmYB5kGU.js";const r=t.memo(a.forwardRef(((t,s)=>e.jsx("div",{ref:s,className:"animate-pulse bg-gray-200 w-full h-full rounded"})))),n=t.memo((({direction:t,onClick:s,label:a})=>e.jsx("button",{onClick:s,className:`absolute top-1/2 ${"prev"===t?"left-2 md:left-4":"right-2 md:right-4"} transform -translate-y-1/2 p-3 md:p-4 text-white bg-black/40 rounded-full hover:bg-black/60 transition-all hover:scale-110 active:scale-95 z-20`,"aria-label":a,children:"prev"===t?"❮":"❯"}))),o=t.memo((({active:t,onClick:s,ariaLabel:a})=>e.jsx("div",{onClick:s,className:`w-3 h-3 md:w-4 md:h-4 border-2 cursor-pointer transition-all duration-300 ease-in-out ${t?"border-white bg-black animate-pulse scale-110":"border-gray-500 bg-white hover:scale-110"} rounded-full`,"aria-label":a})));class i extends a.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,t){}render(){return this.state.hasError?e.jsx("div",{className:"w-full max-w-[50rem] mx-auto h-[24rem] md:h-[32rem] lg:h-[36rem] bg-gray-100 rounded-lg flex items-center justify-center",children:e.jsxs("div",{className:"text-center p-4",children:[e.jsx("h2",{className:"text-xl text-red-600 mb-2",children:"Oops! Something went wrong."}),e.jsx("p",{className:"mb-4",children:"We're having trouble loading the slideshow."}),e.jsx("button",{className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600",onClick:()=>this.setState({hasError:!1}),children:"Try Again"})]})}):this.props.children}}const c=()=>{const a=[{desktop:"/assets/webp/GrapesD-BCqBnZCo.webp",mobile:"/assets/webp/GrapesMo-C0rGSzGx.webp",link:"/grapes",name:"Grapes"},{desktop:"/assets/webp/LycheeD-DQnC5zEy.webp",mobile:"/assets/webp/LycheeMo-CMGVl7UE.webp",link:"/lychee",name:"Lychee"},{desktop:"/assets/webp/MangoD-BenK3Hmt.webp",mobile:"/assets/webp/MangoMo-CwTbc09J.webp",link:"/mango",name:"Mango"},{desktop:"/assets/webp/PineappleD-SdIyjyOB.webp",mobile:"/assets/webp/PineappleMo-CMMM4aV7.webp",link:"/pineapple",name:"Pineapple"},{desktop:"/assets/webp/StrawberryD-DzfjeqdU.webp",mobile:"/assets/webp/StrawberryMo-BnUFgqX2.webp",link:"/strawberry",name:"Strawberry"}],c=t.useMemo((()=>a),[]),[u,m]=t.useState(!1),[d,h]=t.useState(0),[b,p]=t.useState(!1),[g,f]=t.useState(0),[x,w]=t.useState(!1),[y,k]=t.useState({}),j=t.useRef(null),v=t.useRef(null),C=t.useRef(null);t.useEffect((()=>{if(!c||!c.length)return;const e=(d+1)%c.length,t=(d+2)%c.length,s=u?c[e].mobile:c[e].desktop,a=u?c[t].mobile:c[t].desktop;if(!s||!a)return;const l=new Image,r=new Image;return l.src=s,r.src=a,()=>{l.onload=null,r.onload=null}}),[d,c,u]),t.useEffect((()=>{const e=()=>{m(window.innerWidth<768)};return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[]),t.useEffect((()=>(!b&&c&&c.length&&(j.current=setTimeout((()=>{N((d+1)%c.length,!0)}),3e3)),()=>clearTimeout(j.current))),[d,b,c]);const N=t.useCallback(((e,t=!1)=>{c&&c.length&&(x&&!t||(w(!0),h(e),t||(p(!0),clearTimeout(j.current)),v.current&&clearTimeout(v.current),v.current=setTimeout((()=>{w(!1),t||(j.current=setTimeout((()=>p(!1)),5e3))}),600)))}),[x,c]),S=t.useCallback((e=>{f(e.touches[0].clientX),p(!0),clearTimeout(j.current)}),[]),M=t.useCallback((e=>{if(!c||!c.length)return;if(x)return;const t=e.changedTouches[0].clientX,s=g-t;Math.abs(s)>30?N(s>0?(d+1)%c.length:(d-1+c.length)%c.length):j.current=setTimeout((()=>p(!1)),5e3)}),[N,x,g,d,c]),E=t.useCallback((()=>{if(!c||!c.length||d>=c.length)return"";const e=c[d];return u?e.mobile:e.desktop}),[c,d,u]),T=t.useCallback((()=>!c||!c.length||d>=c.length?{name:"Slide",link:"/"}:c[d]),[c,d]),L=t.useCallback((()=>"absolute inset-0 w-full h-full object-contain transition-opacity duration-600 ease-in-out "+(x?"opacity-60":"opacity-100")),[x]),D=t.useMemo((()=>c&&c.length?e.jsx("div",{className:"flex justify-center mt-4 space-x-3",children:c.map(((t,s)=>e.jsx(o,{active:d===s,onClick:()=>N(s),ariaLabel:`Go to ${t.name} slide`},s)))}):null),[c,d,N]);return c&&0!==c.length?e.jsx(i,{children:e.jsxs("div",{className:"relative w-full max-w-[50rem] mx-auto",children:[e.jsxs("div",{ref:C,className:"relative h-[24rem] md:h-[32rem] lg:h-[36rem] overflow-hidden rounded-lg shadow-xl",onTouchStart:S,onTouchEnd:M,children:[e.jsx(l.LazyLoadImage,{src:E(),alt:`${T().name} background`,effect:"blur",className:"absolute inset-0 w-full h-full object-cover blur-xl transition-transform duration-700 ease-in-out scale-105",style:{transform:x?"scale(1.1)":"scale(1.05)"},threshold:200,placeholder:e.jsx(r,{})}),e.jsx("div",{className:"absolute inset-0 bg-black/50 transition-opacity duration-500 ease-in-out"}),e.jsxs(s,{to:T().link,className:"absolute inset-0 flex items-center justify-center z-10",onClick:e=>{x&&e.preventDefault()},children:[e.jsx(l.LazyLoadImage,{src:E(),alt:T().name,effect:"blur",className:L(),style:{transform:`scale(${x?"0.97":"1"})`,transition:"transform 600ms ease-in-out, opacity 600ms ease-in-out"},threshold:100,visibleByDefault:!0}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-black/60 text-white text-center py-3 px-4 font-bold text-xl md:text-2xl transition-all duration-500 ease-in-out "+(x?"opacity-0 translate-y-4":"opacity-100 translate-y-0"),children:T().name})]}),e.jsx(n,{direction:"prev",onClick:()=>N((d-1+c.length)%c.length),label:"Previous slide"}),e.jsx(n,{direction:"next",onClick:()=>N((d+1)%c.length),label:"Next slide"})]}),D]})}):e.jsx("div",{className:"relative w-full max-w-[50rem] mx-auto h-[24rem] md:h-[32rem] lg:h-[36rem] bg-gray-100 rounded-lg flex items-center justify-center",children:e.jsx("p",{children:"No slides available"})})};export{c as default};
