import{i as D,a as z,b as M,c as $,d as R,j as n,e as y}from"./index-CR_TQGNL.js";import{b as e,L as B}from"./vendor-CF3Zv5a9.js";import"./ui-B5RVTbNH.js";const P="/assets/GrapesD-BCqBnZCo.webp",G="/assets/LycheeD-DQnC5zEy.webp",q="/assets/MangoD-BenK3Hmt.webp",X="/assets/PineappleD-SdIyjyOB.webp",H="/assets/StrawberryD-DzfjeqdU.webp",K=e.memo(()=>n.jsx("div",{className:"animate-pulse bg-gray-200 w-full h-full rounded"})),v=e.memo(({direction:s,onClick:r,label:u})=>n.jsx("button",{onClick:r,className:`absolute top-1/2 ${s==="prev"?"left-2 md:left-4":"right-2 md:right-4"} transform -translate-y-1/2 p-3 md:p-4 text-white bg-black/40 rounded-full hover:bg-black/60 transition-all hover:scale-110 active:scale-95 z-20`,"aria-label":u,children:s==="prev"?"❮":"❯"})),O=e.memo(({active:s,onClick:r,ariaLabel:u})=>n.jsx("div",{onClick:r,className:`w-3 h-3 md:w-4 md:h-4 border-2 cursor-pointer transition-all duration-300 ease-in-out ${s?"border-white bg-black animate-pulse scale-110":"border-gray-500 bg-white hover:scale-110"} rounded-full`,"aria-label":u})),Q=()=>{const s=e.useMemo(()=>[{desktop:P,mobile:D,link:"/grapes",name:"Grapes"},{desktop:G,mobile:z,link:"/lychee",name:"Lychee"},{desktop:q,mobile:M,link:"/mango",name:"Mango"},{desktop:X,mobile:$,link:"/pineapple",name:"Pineapple"},{desktop:H,mobile:R,link:"/strawberry",name:"Strawberry"}],[]),[r,u]=e.useState(!1),[a,j]=e.useState(0),[h,m]=e.useState(!1),[p,T]=e.useState(0),[l,g]=e.useState(!1),[U,W]=e.useState({}),c=e.useRef(null),f=e.useRef(null),C=e.useRef(null);e.useEffect(()=>{const t=(a+1)%s.length,o=(a+2)%s.length,b=r?s[t].mobile:s[t].desktop,E=r?s[o].mobile:s[o].desktop,k=new Image,w=new Image;return k.src=b,w.src=E,()=>{k.onload=null,w.onload=null}},[a,s,r]),e.useEffect(()=>{const t=()=>{u(window.innerWidth<768)};return t(),window.addEventListener("resize",t),()=>{window.removeEventListener("resize",t)}},[]),e.useEffect(()=>(h||(c.current=setTimeout(()=>{i((a+1)%5,!0)},3e3)),()=>clearTimeout(c.current)),[a,h]);const i=e.useCallback((t,o=!1)=>{l&&!o||(g(!0),j(t),o||(m(!0),clearTimeout(c.current)),f.current&&clearTimeout(f.current),f.current=setTimeout(()=>{g(!1),o||(c.current=setTimeout(()=>m(!1),5e3))},600))},[l]),I=e.useCallback(t=>{T(t.touches[0].clientX),m(!0),clearTimeout(c.current)},[]),S=e.useCallback(t=>{if(l)return;const o=t.changedTouches[0].clientX,b=p-o;Math.abs(b)>30?b>0?i((a+1)%5):i((a-1+5)%5):c.current=setTimeout(()=>m(!1),5e3)},[i,l,p,a]),x=e.useCallback(()=>{const t=s[a];return r?t.mobile:t.desktop},[s,a,r]),d=e.useCallback(()=>s[a],[s,a]),L=e.useCallback(()=>`absolute inset-0 w-full h-full object-contain transition-opacity duration-600 ease-in-out ${l?"opacity-60":"opacity-100"}`,[l]),N=e.useMemo(()=>n.jsx("div",{className:"flex justify-center mt-4 space-x-3",children:s.map((t,o)=>n.jsx(O,{active:a===o,onClick:()=>i(o),ariaLabel:`Go to ${t.name} slide`},o))}),[s,a,i]);return n.jsxs("div",{className:"relative w-full max-w-[50rem] mx-auto",children:[n.jsxs("div",{ref:C,className:"relative h-[24rem] md:h-[32rem] lg:h-[36rem] overflow-hidden rounded-lg shadow-xl",onTouchStart:I,onTouchEnd:S,children:[n.jsx(y.LazyLoadImage,{src:x(),alt:`${d().name} background`,effect:"blur",className:"absolute inset-0 w-full h-full object-cover blur-xl transition-transform duration-700 ease-in-out scale-105",style:{transform:l?"scale(1.1)":"scale(1.05)"},threshold:200,placeholder:n.jsx(K,{})}),n.jsx("div",{className:"absolute inset-0 bg-black/50 transition-opacity duration-500 ease-in-out"}),n.jsxs(B,{to:d().link,className:"absolute inset-0 flex items-center justify-center z-10",onClick:t=>{l&&t.preventDefault()},children:[n.jsx(y.LazyLoadImage,{src:x(),alt:d().name,effect:"blur",className:L(),style:{transform:`scale(${l?"0.97":"1"})`,transition:"transform 600ms ease-in-out, opacity 600ms ease-in-out"},threshold:100,visibleByDefault:!0}),n.jsx("div",{className:`absolute bottom-0 left-0 right-0 bg-black/60 text-white text-center py-3 px-4 font-bold text-xl md:text-2xl transition-all duration-500 ease-in-out ${l?"opacity-0 translate-y-4":"opacity-100 translate-y-0"}`,children:d().name})]}),n.jsx(v,{direction:"prev",onClick:()=>i((a-1+5)%5),label:"Previous slide"}),n.jsx(v,{direction:"next",onClick:()=>i((a+1)%5),label:"Next slide"})]}),N]})},V=e.memo(Q);export{V as default};
